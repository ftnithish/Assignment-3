<template>
     <lightning-combobox
        label="Select Account"
        value={selectedAccount}
        options={accountOptions}
        onchange={handleAccountChange}>
    </lightning-combobox>

     <lightning-combobox
        label="Select Contact"
        value={selectedContact}
        options={contactOptions}
        onchange={handleContactChange}
        disabled={isContactDisabled}>
    </lightning-combobox>

    <template if:true={contactDetails}>
        <p>Email: {contactDetails.Email}</p>
        <p>Phone: {contactDetails.Phone}</p>
    </template>

     <lightning-combobox
        label="Select Pricebook"
        value={selectedPricebook}
        options={pricebookOptions}
        onchange={handlePricebookChange}>
    </lightning-combobox>

     <lightning-input
        type="date"
        label="Close Date"
        value={closeDate}
        onchange={handleDateChange}>
    </lightning-input>

     <template for:each={lineItems} for:item="row" for:index="index">
        <div key={row.id} class="slds-grid slds-m-around_x-small">
            <lightning-combobox
                label="Product"
                data-index={index}
                options={productOptions}
                value={row.productId}
                onchange={handleProductChange}>
            </lightning-combobox>

            <lightning-input
                type="number"
                label="Quantity"
                data-index={index}
                value={row.quantity}
                onchange={handleQuantityChange}>
            </lightning-input>

            <p>Unit Price: {row.unitPrice}</p>
            <p>Total Price: {row.totalPrice}</p>

            <lightning-button
                variant="destructive"
                label="Delete"
                data-index={index}
                onclick={deleteRow}>
            </lightning-button>
        </div>
    </template>

     <lightning-button label="Add Row" onclick={addRow}></lightning-button>
    <lightning-button label="Delete All Rows" onclick={deleteAllRows}></lightning-button>
    <lightning-button variant="brand" label="Create Opportunity" onclick={createOpportunity}></lightning-button>
</template>
